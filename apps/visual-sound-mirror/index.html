<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Sound Mirror</title>
    <link rel="stylesheet" href="styles.css">
    <!-- MediaPipe for hand tracking -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="container">
        <canvas id="canvas"></canvas>
        <video id="video" autoplay playsinline muted></video>

        <div id="overlay" class="active">
            <div id="welcome">
                <h1>Visual Sound Mirror</h1>
                <p>An interactive art piece that transforms your movements into mesmerizing visuals and soothing sounds</p>
                <button id="startButton">Begin Experience</button>
                <p class="hint">Camera and audio permissions required</p>
            </div>
        </div>

        <div id="controls">
            <button id="muteButton" title="Toggle Audio">ğŸ”Š</button>
            <button id="debugButton" title="Toggle Debug">ğŸ”</button>
            <button id="infoButton" title="Info">â„¹ï¸</button>
        </div>

        <div id="debug" class="hidden">
            <div class="debug-panel">
                <h3>Debug Info</h3>
                <p>Motion Intensity: <span id="debugMotion">0</span></p>
                <p>Position: <span id="debugPosition">0, 0</span></p>
                <p>Particles: <span id="debugParticles">0</span></p>
                <p>Audio: <span id="debugAudio">Initializing...</span></p>
                <p>Hands Detected: <span id="debugHands">0</span></p>
            </div>
        </div>

        <div id="info" class="hidden">
            <div class="info-content">
                <h2>How to Use</h2>
                <ul>
                    <li>Wave your hands to create particles at your fingertips</li>
                    <li>Move your hands horizontally to change pitch</li>
                    <li>Move quickly for intense effects and louder sounds</li>
                    <li>Click anywhere to add particle bursts</li>
                    <li>Press ğŸ” for debug mode (shows hand tracking)</li>
                    <li>Stay still for ambient mode</li>
                </ul>
                <p class="privacy">ğŸ”’ All processing happens locally - no data is recorded or transmitted</p>
                <button id="closeInfo">Close</button>
            </div>
        </div>

        <div id="status"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
